<h3 class="page-heading">Instana configuration</h3>

<div class="gf-form-group">
  <div class="gf-form">
    <label class="gf-form-label width-14 pointer" for="in-url">
      URL
      <info-popover position="top center" mode="right-normal">
        <p>Enter the URL of your Instana installation. E.g. https://tools-acme.instana.io</p>
      </info-popover>
    </label>
    <input class="gf-form-input width-30" id="in-url" type="text" ng-model="ctrl.current.jsonData.url" ng-change="ctrl.onAccessChange()" placeholder="E.g. https://tools-acme.instana.io"></input>
  </div>
  <div class="gf-form">
    <label class="gf-form-label width-14 pointer" for="in-api-token">
      API token
      <info-popover position="top center" mode="right-normal">
        <p>Enter the API token to access the data.<br/>You can create API tokens following the instructions at <a href="https://docs.instana.io/quick_start/api/#api-tokens">https://docs.instana.io/quick_start/api/#api-tokens</a></p>
      </info-popover>
    </label>
    <input class="gf-form-input width-30" id="in-api-token" type="text" ng-model="ctrl.current.jsonData.apiToken" ng-change="ctrl.onAccessChange()" placeholder="Enter your API token."></input>
  </div>
  <div class="gf-form">
    <label class="gf-form-label width-14 pointer" for="in-proxy-mode">
      Use proxy
      <info-popover position="top center" mode="right-normal">
        <p>Use Grafana server as proxy, this adds the Instana API token on the server.<br/>Supported with Grafana 5.3+ and Instana datasource 2.0.0+</p>
      </info-popover>
    </label>
    <gf-form-switch class="gf-form-switch" id="in-proxy-mode" checked="ctrl.current.jsonData.useProxy" on-change="ctrl.onAccessChange()" ng-disabled="!ctrl.current.jsonData.canUseProxy"/>
  </div>
  <div class="gf-form">
    <label class="gf-form-label width-14 pointer" for="in-historic-mode">
      Enable offline snapshots
      <info-popover position="top center" mode="right-normal">
        <p>Enables querying offline snapshots for given timeranges.<br/>Supported with Instana 1.156+ and Instana datasource 2.3.0+</p>
      </info-popover>
    </label>
    <gf-form-switch class="gf-form-switch" id="in-historic-mode" checked="ctrl.current.jsonData.showOffline" ng-disabled="!ctrl.current.jsonData.canQueryOfflineSnapshots"/>
  </div>
</div>
