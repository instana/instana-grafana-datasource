{
  "predicates": [{
    "equals": {
      "method": "POST",
      "path": "/api/application-monitoring/analyze/call-groups"
    }
  },{
    "contains": { "body": "calls" }
  }],
  "responses": [{
    "is": {
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json;charset=utf-8",
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Methods": "GET, POST, PUT, PATCH, DELETE"
      },
      "body": "{\"items\": [{\"name\": \"All\", \"earliestTimestamp\": 1545276735240,\"metrics\": {\"calls.sum\": [[1545298333417,7594.0]]}},{\"name\": \"AWS instances\",\"earliestTimestamp\": 1545277010834,\"metrics\": {\"calls.sum\": [[1545298333417,59.0]]}}],\"canLoadMore\": false,\"totalHits\": 2,\"totalRepresentedItemCount\": 2}"
    }
  }]
},
{
  "predicates": [{
    "equals": {
      "method": "GET",
      "path": "/api/application-monitoring/applications"
    }
  }],
  "responses": [{
    "is": {
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json;charset=utf-8",
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Methods": "GET, POST, PUT, PATCH, DELETE"
      },
      "body": "{\"items\": [{\"label\": \"All\", \"id\": \"3paufjUFS5-0QU3Pmj8KwQ\"}, {\"label\": \"AWS instances\", \"id\": \"3paufjUFS5-0QU3Pmj8KwW\"}],\"totalHits\": 2,\"totalRepresentedItemCount\": 2}"
    }
  }]
},
{
  "predicates": [{
    "equals": {
      "method": "POST",
      "path": "/api/application-monitoring/analyze/call-groups"
    }
  },{
    "contains": { "body": "latency" }
  }],
  "responses": [{
    "inject": "<%- stringify(filename, 'metrics_factory_5.ejs') %>"
  }]
},
{
  "predicates": [{
    "equals": {
      "method": "GET",
      "path": "/api/application-monitoring/catalog/tags"
    }
  }],
  "responses": [{
    "is": {
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json;charset=utf-8",
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Methods": "GET, POST, PUT, PATCH, DELETE"
      },
      "body": "[{ \"name\": \"endpoint.name\", \"type\": \"STRING\", \"category\": \"INSTANA\" }, { \"name\": \"host.ip\", \"type\": \"NUMBER\", \"category\": \"SYSTEM\" }, { \"name\": \"log.level\", \"type\": \"STRING\", \"category\": \"LOG\" }, { \"name\": \"call.latency\", \"type\": \"NUMBER\", \"category\": \"CALL\" }]"
    }
  }]
},
{
  "predicates": [{
    "equals": {
      "method": "GET",
      "path": "/api/application-monitoring/catalog/metrics"
    }
  }],
  "responses": [{
    "is": {
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json;charset=utf-8",
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Methods": "GET, POST, PUT, PATCH, DELETE"
      },
      "body": "[{ \"metricId\": \"calls\", \"label\": \"Call count\", \"formatter\": \"NUMBER\", \"description\": \"Number of received calls\", \"aggregations\": [\"SUM\"] },{ \"metricId\": \"latency\", \"label\": \"Call latency\", \"formatter\": \"MILLIS\", \"description\": \"Latency of received calls in milliseconds.\", \"aggregations\": [\"P99\", \"MEAN\", \"P25\", \"MIN\", \"MAX\", \"P90\", \"P50\", \"P95\", \"P98\", \"P75\"] },{ \"metricId\": \"errors\", \"label\": \"Error rate\", \"formatter\": \"PERCENTAGE\", \"description\": \"Error rate of received calls. A value between 0 and 1.\", \"aggregations\": [\"MEAN\"] },{ \"metricId\": \"services\", \"label\": \"Service count\", \"formatter\": \"NUMBER\", \"description\": \"The number of services.\", \"aggregations\": [\"SUM\"] }]"
    }
  }]
},
